---
title: "Claude Agent æ™ºèƒ½è·¯ç”±è§„åˆ’å™¨"
version: "v4.0"
date: "2024-08-24"  
author: "Claude Code"
argument-hint: "<ä»»åŠ¡æè¿°>"
---

# Agentæ™ºèƒ½è·¯ç”±è§„åˆ’å™¨

## æ ¸å¿ƒèƒ½åŠ›

çº¯è§„åˆ’æ¨¡å¼çš„æ™ºèƒ½Agentåä½œç³»ç»Ÿï¼š
- **æ™ºèƒ½åˆ†æ**: æ·±åº¦åˆ†æä»»åŠ¡éœ€æ±‚å’ŒæŠ€æœ¯æ ˆ
- **AgentåŒ¹é…**: è‡ªåŠ¨æ¨èæœ€ä½³Agentç»„åˆå’Œæ‰§è¡Œç­–ç•¥
- **è§„åˆ’è¾“å‡º**: ç”Ÿæˆè¯¦ç»†çš„æ‰§è¡Œè®¡åˆ’æ–‡æ¡£
- **åˆ†ç¦»è®¾è®¡**: åªåšè§„åˆ’ï¼Œä¸æ‰§è¡Œä»£ç†

## å·¥ä½œæµç¨‹

```
/me:route ä»»åŠ¡æè¿°
    â†“
1. åˆ†æä»»åŠ¡éœ€æ±‚
2. æ£€æµ‹æŠ€æœ¯æ ˆ
3. åŒ¹é…æœ€ä¼˜Agent
4. è®¾è®¡æ‰§è¡Œç­–ç•¥
5. ç”Ÿæˆè§„åˆ’æ–‡æ¡£
    â†“
è¾“å‡º: ./docs/agent-route/<task-id>.md
    â†“
/me:execute <task-id>.md
```

## æŒ‡ä»¤æ¨¡æ¿

`ultrathink`æ€è€ƒæ¨¡å¼

**ğŸ¯ çº¯è§„åˆ’æ¨¡å¼ Agentè·¯ç”±åˆ†æ + å¼ºåˆ¶æ–‡ä»¶ç”Ÿæˆ**

1. **éœ€æ±‚è§£æ„åˆ†æ**

   ç”¨æˆ·åŸå§‹éœ€æ±‚: {{ prompt }}

   ä»»åŠ¡åˆ†ç±»:
   - ğŸ”§ å¼€å‘ä»»åŠ¡ (æ–°åŠŸèƒ½/ä¿®å¤/é‡æ„) 
   - ğŸ” åˆ†æä»»åŠ¡ (ä»£ç å®¡è®¡/æ€§èƒ½/æ¶æ„)
   - ğŸ“š ç ”ç©¶ä»»åŠ¡ (æŠ€æœ¯è°ƒç ”/æ–‡æ¡£)
   - âš™ï¸ ç»´æŠ¤ä»»åŠ¡ (éƒ¨ç½²/é…ç½®/ä¼˜åŒ–)

   å¤æ‚åº¦è¯„ä¼°:
   - ğŸŸ¢ ç®€å•ä»»åŠ¡ (1ä¸ªAgent, 5-15åˆ†é’Ÿ)
   - ğŸŸ¡ ä¸­ç­‰å¤æ‚ (2-4ä¸ªAgent, 15-30åˆ†é’Ÿ) 
   - ğŸ”´ é«˜å¤æ‚åº¦ (5-8ä¸ªAgent, 30-60åˆ†é’Ÿ)

2. **å¯ç”¨Agentæ‰«æ**

   **ç³»ç»Ÿæ£€æµ‹å¯ç”¨Agent:**
   - æ‰«æ Claude Code å†…ç½®Agentåˆ—è¡¨
   - è¯†åˆ« User agents å’Œ Project agents
   - è¿‡æ»¤é‡å¤Agentï¼Œå»ºç«‹å¯ç”¨Agentæ± 

3. **æŠ€æœ¯æ ˆæ™ºèƒ½æ£€æµ‹**

   **å·¥ä½œåŒºé…ç½®åˆ†æ:** `CLAUDE.md` + é¡¹ç›®æ–‡ä»¶

   **é…ç½®æ–‡ä»¶è¯†åˆ«ç­–ç•¥:**
   ```
   ğŸ“¦ åŒ…ç®¡ç†å™¨æ£€æµ‹:
   â”œâ”€â”€ package.json â†’ Node.jsç”Ÿæ€ç³»ç»Ÿ
   â”œâ”€â”€ pom.xml â†’ Java/Mavenç”Ÿæ€  
   â”œâ”€â”€ requirements.txt â†’ Pythonç”Ÿæ€
   â”œâ”€â”€ Cargo.toml â†’ Rustç”Ÿæ€
   â”œâ”€â”€ go.mod â†’ Goç”Ÿæ€
   â””â”€â”€ pubspec.yaml â†’ Flutter/Dartç”Ÿæ€
   
   ğŸ¯ æ¡†æ¶ç‰¹å¾è¯†åˆ«:
   â”œâ”€â”€ src/components â†’ React/Vueå‰ç«¯é¡¹ç›®
   â”œâ”€â”€ src/main/java â†’ Spring Bootåç«¯é¡¹ç›®
   â”œâ”€â”€ lib/ + pubspec.yaml â†’ Flutterç§»åŠ¨é¡¹ç›®
   â””â”€â”€ å¯¼å…¥è¯­å¥æ¨¡å¼åˆ†æ
   ```

   **AgentåŒ¹é…è®¡ç®—:** `åŒ¹é…åº¦ = æŠ€æœ¯é€‚é…åº¦Ã—40% + ä»»åŠ¡å¤æ‚åº¦åŒ¹é…Ã—30% + ç”Ÿæ€ç†Ÿæ‚‰åº¦Ã—20% + é¡¹ç›®è§„æ¨¡é€‚é…Ã—10%` 

4. **Agentåä½œè§„åˆ’è®¾è®¡**

   **è§„åˆ’è¾“å‡ºæ ¼å¼:**
   ```typescript
   // Agentæ‰§è¡Œè®¡åˆ’è§„èŒƒ
   interface AgentPlan {
     task_id: string;           // ä»»åŠ¡å”¯ä¸€æ ‡è¯†
     agent_type: string;        // Agentç±»å‹æ ‡è¯†
     display_name: string;      // Agentæ˜¾ç¤ºåç§°
     description: string;       // ä»»åŠ¡æè¿°
     prompt_template: string;   // æç¤ºè¯æ¨¡æ¿
     dependencies: string[];    // ä¾èµ–çš„å…¶ä»–Agent
     execution_order: number;   // æ‰§è¡Œé¡ºåº(å¹¶è¡Œæ—¶ä¸ºç›¸åŒæ•°å­—)
     estimated_time: number;    // é¢„ä¼°æ‰§è¡Œæ—¶é—´(åˆ†é’Ÿ)
     parallel_safe: boolean;    // æ˜¯å¦å¯å¹¶è¡Œæ‰§è¡Œ
     context_requirements: {    // ä¸Šä¸‹æ–‡è¦æ±‚
       input_files: string[];
       shared_variables: Record<string, string>;
       dependency_outputs: string[];
     };
   }
   
   // æ•´ä½“è§„åˆ’æ–¹æ¡ˆ
   interface ExecutionPlan {
     plan_id: string;          // è§„åˆ’æ ‡è¯†
     created_at: string;       // åˆ›å»ºæ—¶é—´
     task_description: string; // åŸå§‹ä»»åŠ¡æè¿°
     complexity: 'simple' | 'medium' | 'complex';
     execution_mode: 'sequential' | 'parallel' | 'hybrid';
     agents: AgentPlan[];      // Agentæ‰§è¡Œè®¡åˆ’åˆ—è¡¨
     estimated_total_time: number;
   }
   ```

5. **æ‰§è¡Œæ¨¡å¼è§„åˆ’ç­–ç•¥**

   **ğŸ”„ Fork-Joinå¹¶è¡Œè§„åˆ’**
   ```
   é€‚ç”¨åœºæ™¯: ç‹¬ç«‹å­ä»»åŠ¡å¯å¹¶è¡Œå¤„ç†
   
   è§„åˆ’è¾“å‡º:
   â”œâ”€â”€ å¹¶è¡Œé˜¶æ®µè®¾è®¡:
   â”‚   â”œâ”€â”€ project-analyst (order: 1)
   â”‚   â”œâ”€â”€ backend-developer (order: 1) 
   â”‚   â”œâ”€â”€ frontend-developer (order: 1)
   â”‚   â””â”€â”€ database-expert (order: 1)
   â”‚
   â””â”€â”€ æ±‡èšé˜¶æ®µè®¾è®¡:
       â””â”€â”€ code-reviewer (order: 2, deps: [all])
   
   é¢„ä¼°æ—¶é—´: max(å¹¶è¡ŒAgentæ—¶é—´) + æ±‡èšAgentæ—¶é—´
   ```

   **âš¡ Pipelineæµæ°´çº¿è§„åˆ’**
   ```
   é€‚ç”¨åœºæ™¯: æœ‰æ˜ç¡®ä¾èµ–å…³ç³»çš„ä»»åŠ¡åºåˆ—
   
   è§„åˆ’è¾“å‡º:
   Stage1: project-analyst (order: 1)
     â””â”€â”€ è¾“å‡ºè§„åˆ’: é¡¹ç›®æ¶æ„åˆ†ææ–‡æ¡£
   
   Stage2: api-architect (order: 2, deps: [project-analyst])
     â””â”€â”€ è¾“å‡ºè§„åˆ’: APIè®¾è®¡æ–¹æ¡ˆæ–‡æ¡£
   
   Stage3: å¹¶è¡Œå®ç° (order: 3, deps: [api-architect])
     â”œâ”€â”€ backend-developer â†’ åç«¯å®ç°
     â””â”€â”€ frontend-developer â†’ å‰ç«¯å®ç°
   
   Stage4: code-reviewer (order: 4, deps: [stage3_all])
     â””â”€â”€ è¾“å‡ºè§„åˆ’: ä»£ç è´¨é‡æŠ¥å‘Š
   
   é¢„ä¼°æ—¶é—´: sum(æ‰€æœ‰Stageæ—¶é—´)
   ```

6. **è§„åˆ’æ–‡æ¡£ç”Ÿæˆç­–ç•¥**

   **ğŸ“‹ è§„åˆ’è¾“å‡ºæµç¨‹:**
   ```
   ğŸ¯ æ™ºèƒ½è§„åˆ’ç”Ÿæˆ
   
   1. éœ€æ±‚è§£æ â†’ ä»»åŠ¡åˆ†è§£
   2. AgentåŒ¹é… â†’ æœ€ä¼˜ç»„åˆæ¨è  
   3. æ‰§è¡Œç­–ç•¥ â†’ æ¨¡å¼é€‰æ‹©(ä¸²è¡Œ/å¹¶è¡Œ/æ··åˆ)
   4. æ—¶é—´ä¼°ç®— â†’ åŸºäºå¤æ‚åº¦å’ŒAgentèƒ½åŠ›
   5. é£é™©è¯„ä¼° â†’ æ½œåœ¨é—®é¢˜å’Œç¼“è§£ç­–ç•¥
   6. æ–‡æ¡£ç”Ÿæˆ â†’ æ ‡å‡†åŒ–è§„åˆ’æ–‡æ¡£
   7. æ‰§è¡ŒéªŒè¯ â†’ ç¡®ä¿æ–‡ä»¶å†™å…¥æˆåŠŸ
   
   âœ… **æ‰§è¡Œå®Œæ•´æ€§ä¿è¯:**
   - æ–‡æ¡£ä½ç½®: `./docs/agent-route/<task-id>.md`
   - æ ‡å‡†æ ¼å¼: YAML metadata + Markdown content
   - å®Œæ•´ä¿¡æ¯: Agenté…ç½® + æ‰§è¡Œé¡ºåº + ä¾èµ–å…³ç³»
   - å¯æ‰§è¡Œæ€§: ä¸ /me:execute å®Œå…¨å…¼å®¹
   - å†™å…¥éªŒè¯: å¿…é¡»ç¡®è®¤æ–‡ä»¶æˆåŠŸåˆ›å»º
   
   ğŸš« **ä¸¥æ ¼é™åˆ¶:**
   - ä¸å¯åŠ¨ä»»ä½• Agent
   - åªè¾“å‡ºè§„åˆ’æ–‡æ¡£
   - æ–‡æ¡£åªèƒ½è¾“å‡ºåˆ° `./docs/agent-route/`ç›®å½•
   
   ğŸ’£ **å¤±è´¥æ¨¡å¼å¤„ç†:**
   - å¦‚æœ Write å·¥å…·è°ƒç”¨å¤±è´¥ â†’ å‘½ä»¤æ‰§è¡Œå¤±è´¥
   - å¦‚æœæ–‡ä»¶æœªæˆåŠŸåˆ›å»º â†’ å‘½ä»¤æ‰§è¡Œå¤±è´¥
   - å¦‚æœç›®å½•ä¸å­˜åœ¨ â†’ è‡ªåŠ¨åˆ›å»ºåé‡è¯•
   ```
   
   **ğŸ“„ ç”Ÿæˆæ–‡æ¡£æ¨¡æ¿:**
   ```markdown
   ---
   task_id: "task-{timestamp}"
   created_at: "{iso_datetime}"
   task_description: "{original_prompt}"
   complexity: "{simple|medium|complex}"
   execution_mode: "{sequential|parallel|hybrid}"
   estimated_total_time: {minutes}
   tech_stack: ["{detected_technologies}"]
   ---
   
   # Agentæ‰§è¡Œè§„åˆ’: {task_description}
   
   ## ğŸ“Š ä»»åŠ¡åˆ†æ
   - **ä»»åŠ¡ç±»å‹**: {task_type}
   - **å¤æ‚åº¦**: {complexity_level}
   - **é¢„ä¼°æ—¶é—´**: {total_time}åˆ†é’Ÿ
   - **æ¨èæ¨¡å¼**: {execution_mode}
   
   ## ğŸ¤– Agenté…ç½®
   {agent_list_with_details}
   
   ## ğŸ“ˆ æ‰§è¡Œæµç¨‹
   {execution_order_diagram}
   
   ## âš ï¸ é£é™©è¯„ä¼°
   {potential_risks_and_mitigations}
   
   ## ğŸ¯ é¢„æœŸè¾“å‡º
   {expected_deliverables}
   ```
   
   **ğŸ”¨ å¼ºåˆ¶æ‰§è¡Œæ£€æŸ¥æ¸…å•:**
   ```
   âœ… å¿…é¡»å®Œæˆçš„æ“ä½œ:
   1. æ£€æŸ¥ ./docs/agent-route/ ç›®å½•å­˜åœ¨ (LSå·¥å…·)
   2. ç”Ÿæˆå®Œæ•´çš„è§„åˆ’æ–‡æ¡£å†…å®¹ (å†…å­˜å¤„ç†)
   3. è°ƒç”¨ Write å·¥å…·å†™å…¥æ–‡æ¡£æ–‡ä»¶ (æ–‡ä»¶ç³»ç»Ÿ)
   4. éªŒè¯æ–‡ä»¶ç¡®å®åˆ›å»ºæˆåŠŸ (å¯é€‰: å†æ¬¡LSç¡®è®¤)
   5. è¿”å›æ–‡æ¡£è·¯å¾„ç»™ç”¨æˆ· (äº¤äº’åé¦ˆ)
   
   âŒ å‘½ä»¤å¤±è´¥æ¡ä»¶:
   - æ²¡æœ‰è°ƒç”¨ Write å·¥å…·
   - Write å·¥å…·è°ƒç”¨å¤±è´¥
   - ç”Ÿæˆçš„æ–‡æ¡£æ ¼å¼ä¸ç¬¦åˆæ¨¡æ¿è¦æ±‚
   - æ–‡æ¡£è·¯å¾„ä¸åœ¨ ./docs/agent-route/ ç›®å½•
   ```


## è§„åˆ’ç¤ºä¾‹

**ğŸ” åˆ†æä»»åŠ¡è§„åˆ’:**
```bash
/me:route ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·è¡¨çš„åˆ†é¡µæŸ¥è¯¢

ğŸ“‹ ç”Ÿæˆè§„åˆ’æ–‡æ¡£:
â”œâ”€â”€ ä»»åŠ¡ID: task-20240824-001
â”œâ”€â”€ æŠ€æœ¯æ ˆæ£€æµ‹: Spring Boot + MySQL  
â”œâ”€â”€ å¤æ‚åº¦è¯„ä¼°: ğŸŸ¡ ä¸­ç­‰å¤æ‚(15-25åˆ†é’Ÿ)
â”œâ”€â”€ æ¨èæ¨¡å¼: Sequential Pipeline
â”œâ”€â”€ Agenté…ç½®: 
â”‚   â”œâ”€â”€ project-analyst (order: 1)
â”‚   â”œâ”€â”€ performance-optimizer (order: 2) 
â”‚   â””â”€â”€ code-reviewer (order: 3)
â””â”€â”€ è¾“å‡ºä½ç½®: ./docs/agent-route/task-20240824-001.md

âœ… è§„åˆ’å®Œæˆ! æ‰§è¡Œ: /me:execute task-20240824-001.md
```

**ğŸ› ï¸ å¼€å‘ä»»åŠ¡è§„åˆ’:**
```bash  
/me:route å…¨æ ˆå¼€å‘ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ 

ğŸ“‹ ç”Ÿæˆè§„åˆ’æ–‡æ¡£:
â”œâ”€â”€ ä»»åŠ¡ID: task-20240824-002
â”œâ”€â”€ æŠ€æœ¯æ ˆæ£€æµ‹: React + Spring Boot + PostgreSQL
â”œâ”€â”€ å¤æ‚åº¦è¯„ä¼°: ğŸ”´ é«˜å¤æ‚åº¦(45-60åˆ†é’Ÿ)
â”œâ”€â”€ æ¨èæ¨¡å¼: Hybrid (Pipeline + Fork-Join)
â”œâ”€â”€ Agenté…ç½®: 
â”‚   â”œâ”€â”€ Phase1: project-analyst (order: 1)
â”‚   â”œâ”€â”€ Phase2: api-architect (order: 2)
â”‚   â”œâ”€â”€ Phase3: backend-developer + frontend-developer (order: 3, parallel)
â”‚   â””â”€â”€ Phase4: code-reviewer (order: 4)
â””â”€â”€ è¾“å‡ºä½ç½®: ./docs/agent-route/task-20240824-002.md

âœ… è§„åˆ’å®Œæˆ! æ‰§è¡Œ: /me:execute task-20240824-001.md
```

**ğŸš« é‡è¦æ³¨æ„:**

- æ–‡æ¡£åªèƒ½è¾“å‡ºåˆ° `./docs/agent-route/`ç›®å½•
- `/me:route` æŒ‡ä»¤åªç”Ÿæˆè§„åˆ’æ–‡æ¡£ï¼Œä¸æ‰§è¡Œä»»ä½•Agent
- å¿…é¡»é€šè¿‡ `/me:execute <task-id>.md` æ‰èƒ½çœŸæ­£æ‰§è¡Œè§„åˆ’
- è§„åˆ’æ–‡æ¡£åŒ…å«å®Œæ•´çš„æ‰§è¡Œé…ç½®å’Œé£é™©è¯„ä¼°
