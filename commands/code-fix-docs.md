---
argument-hint: "<功能描述>"
---

# 代码修复文档专用生成器

纯文档输出工具：分析代码问题，生成修复方案文档到 ./docs 目录，包含详细代码实现方案。

## 重要约束
- **禁止写代码**: 仅进行理解分析，永不修改任何代码文件
- **深度思考**: 采用深度思考模式进行全面分析
- **仅作理解和文档输出**: 专注于方案代码细节文档输出，无副作用操作 , 只能针对 `./docs` 目录进行写文件

## 功能特性
- **上下文收集**: 自动分析当前工作目录和Git状态
- **智能目录**: 文档输出位置始终是 `./docs/{智能分析问题定义的名称}/` 目录输出文档

## 执行步骤

### 1. 当前现状了解
- 收集上文问题 或 方案 理解
- 收集 git未提交的相关文件

### 2. 代码梳理
识别上下文讨论的问题 或 功能点  , 梳理方案详细代码

### 3. 输出解决方案文档

**智能目录选择**: 根据 `功能识别` 自动确定最合适的目录名称

**输出文档**: `./docs/{智能分析问题定义的名称}/xxx.md`

**文档结构** (参考 `jdbc-connection-pool-fix.md`):

```markdown
# {{ feature_desc }}技术方案

## 问题诊断
### 核心问题
- 问题1: [具体描述]
- 问题2: [具体描述]
- 问题3: [具体描述]

### 影响评估
- 当前状况: [详细分析]
- 目标状态: [期望结果]

## 修复方案
### 修复点1: [具体修复项] (P0 - 立即修复)
**文件**: `文件路径:行号`

**修复前 (问题代码)**:
// 问题代码示例

**修复后 (优化代码)**:
// 优化后代码示例  

**关键改进**:

- 改进点1
- 改进点2
- 改进点3

### 修复点2: [其他修复项] (P1 - 次要优化)
[类似结构...]

## 修复优先级
| 优先级 | 修复点 | 预估时间 | 效果 |
|--------|--------|----------|------|
| P0 | 核心修复 | X分钟 | 立即见效 |
| P1 | 优化改进 | X分钟 | 长期收益 |

## 注意事项
1. **修复顺序**: 按优先级执行
2. **测试验证**: 充分测试后部署
3. **监控观察**: 持续观察系统状态
4. **回滚准备**: 保留回滚方案

## 总结
修复内容概述和预期效果。
```
