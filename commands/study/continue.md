# 继续学习

## 命令格式
```
/continue
```

无参数，自动继续最近活跃的学习会话。

## 流程

### 0. 定位会话（智能模式）

**自动检测会话逻辑：**

1. 优先读取 `./study-config.md` 中的 `last_session_dir` 字段
   - 若存在且有效 → 使用该会话

2. 若无有效的 `last_session_dir`：
   - 扫描 `./topic/` 目录下的所有会话
   - 若无会话 → 提示用户尚未开始学习，建议执行 `/plan <主题>`
   - 若只有 1 个会话 → 自动使用该会话
   - 若有多个会话 → 列出所有会话，要求用户选择

3. 更新 `last_session_dir` 为当前会话（便于下一次 `/continue` 直接使用）

### 1. 检查当前会话状态
**读取会话元数据:**

- 从 `./topic/{session-dir}/session-info.json` 文件读取当前进度信息

  ```json
  {
    "planName": "python-basics",
    "currentTopic": 3,
    "totalTopics": 10,
    "topicList": ["变量与类型", "控制流", "函数", "..."],
    "lastUpdate": "2025-11-02T15:30:00Z"
  }
  ```

- 读取同目录下的 `progress.md` 查看学习进度和完成状态

**检查点:**
- 我们在课程的哪个位置？（currentTopic）
- 上一次课程是否尚未完成？（检查当前主题 md 文件的完整性）
- 学生是否已经掌握当前主题？
- 课程安排中的下一个主题是什么？（topicList[currentTopic]）

### 2. 继续逻辑与文档维护

**如果当前课程尚未完成：**
- 追加内容到当前主题文档 `{NN}-{主题名}.md`
- 不更新 `session-info.json` 的 currentTopic
- 更新 `lastUpdate` 时间戳

```
🦌 我们从上次停下的地方继续！

---

# [当前主题]（续）

---

[从中断处继续讲解]
[补充剩余的示例、说明或练习]

---

💡 **下一步：**
- 需要继续时，请使用 **/continue**
- 准备好接受检验时，请使用 **/test**
- 任何时候都可以提问！
```

**如果当前主题已完成，进入下一个主题：**
- `currentTopic` 递增（如 3 → 4）
- 创建新主题文档 `{NN+1}-{新主题名}.md`
- 更新 `session-info.json`:
  ```json
  {
    "currentTopic": 4,
    "lastUpdate": "2025-11-02T16:00:00Z"
  }
  ```
- 更新 `progress.md` 标记上一主题完成

```
🦌 进展很棒！我们来学习课程中的下一个主题。

---

# [下一个主题名称]

> **课程**: [课程名称]
> **主题**: [下一个主题名称]
> **日期**: [当前日期]
> **状态**: 进行中

---

## 课程主体

[开始讲解新主题]
[遵循 /start 命令使用的教学格式]

---

💡 **下一步：**
- 想继续前进时，请使用 **/continue**
- 想测试自己时，请使用 **/test**
- 如果有不清楚的地方，尽管提问！
```

**如果课程已经全部完成：**
- 更新 `progress.md` 标记课程完成
- 在 `session-info.json` 添加 `completed: true`

```
🦌 恭喜你完成了整套课程！🎉

---

## 你的收获

[概述已学习的全部主题]

---

## 掌握度评估

若想真正掌握该领域，可以考虑：
1. 进行综合测试：**/test**
2. 探索进阶主题
3. 将知识应用到真实项目中

---

💡 **接下来做什么？**
- 开启新主题：**/plan <新主题>**
- 深入钻研某个具体方向
- 就已学内容向我提问

太棒了，继续保持学习的热情吧！🦌
```

---

## 重要提示
- 保持与上一节课的连贯性
- 适时引用之前讲过的主题
- 按照既定的教学风格和配置继续
- 肯定学生的进步
- 让课程过渡自然、顺畅
