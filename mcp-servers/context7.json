{
  "name": "context7",
  "displayName": "Context7 - 智能代码上下文分析",
  "description": "Context7 提供智能的代码上下文分析、依赖追踪和语义搜索功能，帮助 Claude Code 更好地理解项目结构",
  "version": "1.0.0",
  "type": "mcp-server",
  "enabled": true,
  "config": {
    "command": "npx",
    "args": ["-y", "@context7/mcp-server"]
  },
  "capabilities": {
    "codeAnalysis": {
      "description": "分析代码结构和依赖关系",
      "tools": [
        {
          "name": "analyze_dependencies",
          "description": "分析项目依赖树和依赖关系"
        },
        {
          "name": "find_references",
          "description": "查找符号的所有引用位置"
        },
        {
          "name": "get_call_hierarchy",
          "description": "获取函数调用层次结构"
        }
      ]
    },
    "semanticSearch": {
      "description": "基于语义的智能代码搜索",
      "tools": [
        {
          "name": "semantic_search",
          "description": "使用自然语言搜索代码片段"
        },
        {
          "name": "find_similar_code",
          "description": "查找相似的代码模式"
        }
      ]
    },
    "contextExtraction": {
      "description": "提取和管理代码上下文",
      "tools": [
        {
          "name": "get_symbol_context",
          "description": "获取符号的完整上下文信息"
        },
        {
          "name": "extract_module_context",
          "description": "提取模块级别的上下文"
        }
      ]
    }
  },
  "installation": {
    "prerequisites": [
      "Node.js >= 18.0.0",
      "npm >= 9.0.0"
    ],
    "commands": [
      "npm install -g @context7/mcp-server"
    ]
  },
  "usage": {
    "examples": [
      {
        "description": "分析项目依赖",
        "prompt": "使用 Context7 分析当前项目的依赖关系"
      },
      {
        "description": "查找函数引用",
        "prompt": "使用 Context7 查找 calculateTotal 函数的所有引用"
      },
      {
        "description": "语义搜索",
        "prompt": "使用 Context7 搜索处理用户认证的代码"
      }
    ]
  },
  "integration": {
    "commands": [
      "/quick-start",
      "/smart-review",
      "/project-scan"
    ],
    "agents": [
      "fullstack-architect",
      "code-quality-guardian"
    ],
    "autoActivate": [
      "project.hasFile('package.json')",
      "project.hasFile('tsconfig.json')",
      "project.hasFile('requirements.txt')"
    ]
  },
  "troubleshooting": {
    "common_issues": [
      {
        "issue": "MCP 服务器无法启动",
        "solution": "确保已安装 Node.js 18+ 和 @context7/mcp-server 包"
      },
      {
        "issue": "分析速度慢",
        "solution": "增加 CONTEXT7_MAX_FILE_SIZE 或排除更多目录"
      },
      {
        "issue": "找不到依赖关系",
        "solution": "确保项目已安装所有依赖，运行 npm install 或 pip install"
      }
    ]
  }
}
